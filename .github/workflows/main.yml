jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Cleanup before build
        run: |
          # Clean apt cache if using Ubuntu
          sudo apt-get clean
          # Remove Docker images if not needed
          docker system prune -f || true
      
      - name: Setup Node.js (or your language)
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
      
      # Your build steps here
      
      - name: Cleanup after build
        if: always()
        run: |
          # Remove node_modules if they're large
          rm -rf node_modules || true
          # Clean npm cache
          npm cache clean --force
